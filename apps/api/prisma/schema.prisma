generator client {
    provider = "prisma-client"
}

datasource db {
    provider = "postgresql"
}

model User {
    // Basic info
    id    String  @id @default(uuid())
    email String  @unique
    name  String?

    // System info  
    password   String
    // Relations
    businesses Business[]

    // Timestamps
    createdAt DateTime @default(now())
}

enum BusinessStatus {
    ACTIVE
    INACTIVE
    SUSPENDED
}

model Business {
    // Basic info
    id           String  @id @default(uuid())
    name         String
    description  String?
    businessLogo String?

    // Operating hours
    openHours  String?
    closeHours String?

    // Location details
    address   String?
    city      String?
    state     String?
    latitude  Float?
    longitude Float?

    // Contact info
    phoneNumber String?
    website     String?
    email       String?

    // Operational details
    status   BusinessStatus @default(ACTIVE)
    verified Boolean        @default(false)
    ownerId  String
    owner    User           @relation(fields: [ownerId], references: [id])

    // Timestamps
    createdAt   DateTime      @default(now())
    socialLinks SocialLinks[]

    @@index([ownerId])
}

model SocialLinks {
    id         String   @id @default(uuid())
    businessId String
    business   Business @relation(fields: [businessId], references: [id])
    platform   String
    url        String

    createdAt DateTime @default(now())
}
